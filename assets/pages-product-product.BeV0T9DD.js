import{_ as a,l as e,k as s,U as l,V as t,c,w as o,v as i,x as u,M as d,y as r,o as n,a as f,S as _,D as p,F as v,E as m,I as g,G as y,A as b,L as k,B as h,C,H as x,N as w,W as z,X as B,R as D}from"./vendor.Ckgv2xgH.js";import{p as F}from"./product.CkM9Osij.js";import{u as G}from"./cart.Cwdcc7pj.js";import{u as j}from"./useSystem.Wa4UmrYm.js";import{g as A}from"./image.BWdQ8Foy.js";import"./request.Bx5oBM20.js";const P=a({__name:"product",setup(a){const P=G(),{navTo:q}=j(),S=e(()=>P.totalCount||0),I=s({name:"Gemini Pro Max Ultra 旗舰智能终端",desc:"轻钛金属 | A17 Pro 芯片 | 潜望式长焦",price:"9999.00",sales:0,cover:"",original_price:"0.00",id:0}),M=s([]),T=s(!1),U=e(()=>{const a=new Date;return a.setDate(a.getDate()+1),`${a.getMonth()+1}月${a.getDate()}日`});l(async a=>{const e=a.id||1;$(e),await E(e)});const $=a=>{const e=t("favorites")||[];T.value=e.includes(a.toString())},E=async a=>{const e=await F.getProductById(a);if(e){I.value={...e,id:a};const s=e.images&&e.images.length>0?e.images:e.cover?[e.cover,e.cover]:[];M.value=s.length>0?s:["/static/goods/iphone_15_pro_max.png"],I.value.desc||(I.value.desc="全新一代性能旗舰，超乎想象的流畅体验")}},H=()=>{T.value=!T.value;let a=t("favorites")||[];const e=I.value.id.toString();T.value?(a.includes(e)||a.push(e),w({title:"已收藏",icon:"success"})):(a=a.filter(a=>a!==e),w({title:"已取消",icon:"none"})),D("favorites",a)},L=()=>z({url:"/pages/index/index"}),N=()=>w({title:"客服忙碌中",icon:"none"}),O=()=>w({title:"分享功能开发中",icon:"none"}),R=()=>w({title:"打开规格选择器",icon:"none"}),V=()=>{P.addToCart({goods_id:I.value.id,title:I.value.name,price:I.value.price,image:M.value[0],qty:1,attr:"256GB 深空黑"}),w({title:"已加入购物车",icon:"success"})},W=()=>{const a={goods_id:I.value.id,title:I.value.name,price:I.value.price,image:M.value[0],qty:1,checked:!0,attr:"256GB 深空黑"};D("temp_order_items",[a]),q("/pages/order/createOrder")};return(a,e)=>{const s=y,l=g,t=_,w=i,z=h,D=u(r("uni-icons"),d);return n(),c(w,{class:"container"},{default:o(()=>[f(w,{class:"carousel-section"},{default:o(()=>[f(t,{class:"swiper","indicator-dots":"",circular:"",autoplay:"",interval:"4000",duration:"500","indicator-active-color":"#00CBCC","indicator-color":"rgba(255,255,255,0.6)"},{default:o(()=>[(n(!0),p(v,null,m(M.value,(a,e)=>(n(),c(l,{key:e},{default:o(()=>[f(s,{src:b(A)(a),mode:"aspectFill",class:"carousel-img",onClick:a=>(a=>{B({current:a,urls:M.value})})(e)},null,8,["src","onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),f(w,{class:"info-card"},{default:o(()=>[f(w,{class:"price-box"},{default:o(()=>[f(w,{class:"price-row"},{default:o(()=>[f(z,{class:"symbol"},{default:o(()=>[C("¥")]),_:1}),f(z,{class:"amount"},{default:o(()=>[C(x(I.value.price),1)]),_:1}),f(z,{class:"suffix"},{default:o(()=>[C("起")]),_:1})]),_:1}),f(w,{class:"action-icons"},{default:o(()=>[f(w,{class:"icon-item",onClick:H},{default:o(()=>[f(D,{type:T.value?"star-filled":"star",size:"22",color:T.value?"#ffc107":"#333"},null,8,["type","color"]),f(z,null,{default:o(()=>[C(x(T.value?"已收藏":"收藏"),1)]),_:1})]),_:1}),f(w,{class:"icon-item",onClick:O},{default:o(()=>[f(D,{type:"paperplane",size:"22",color:"#333"}),f(z,null,{default:o(()=>[C("分享")]),_:1})]),_:1})]),_:1})]),_:1}),f(w,{class:"product-title"},{default:o(()=>[C(x(I.value.name),1)]),_:1}),I.value.desc?(n(),c(w,{key:0,class:"product-desc"},{default:o(()=>[C(x(I.value.desc),1)]),_:1})):k("",!0),f(w,{class:"service-row"},{default:o(()=>[f(w,{class:"service-item"},{default:o(()=>[f(D,{type:"checkbox-filled",size:"14",color:"#00CBCC"}),f(z,null,{default:o(()=>[C("官方正品")]),_:1})]),_:1}),f(w,{class:"service-item"},{default:o(()=>[f(D,{type:"checkbox-filled",size:"14",color:"#00CBCC"}),f(z,null,{default:o(()=>[C("全国联保")]),_:1})]),_:1}),f(w,{class:"service-item"},{default:o(()=>[f(D,{type:"checkbox-filled",size:"14",color:"#00CBCC"}),f(z,null,{default:o(()=>[C("48h发货")]),_:1})]),_:1}),f(D,{type:"right",size:"12",color:"#ccc",class:"arrow"})]),_:1})]),_:1}),f(w,{class:"section-card specs-card"},{default:o(()=>[f(w,{class:"row-item",onClick:R},{default:o(()=>[f(z,{class:"label"},{default:o(()=>[C("已选")]),_:1}),f(z,{class:"value highlight"},{default:o(()=>[C("官方标配, 256GB, 深空黑色, 1件")]),_:1}),f(D,{type:"right",size:"14",color:"#ccc"})]),_:1}),f(w,{class:"row-item"},{default:o(()=>[f(z,{class:"label"},{default:o(()=>[C("配送")]),_:1}),f(w,{class:"value-col"},{default:o(()=>[f(z,{class:"main-text"},{default:o(()=>[C("顺丰速运 · 免运费")]),_:1}),f(z,{class:"sub-text"},{default:o(()=>[C("预计明天 ("+x(U.value)+") 送达",1)]),_:1})]),_:1}),f(D,{type:"right",size:"14",color:"#ccc"})]),_:1}),f(w,{class:"divider"}),f(w,{class:"specs-grid"},{default:o(()=>[f(w,{class:"spec-box"},{default:o(()=>[f(z,{class:"k"},{default:o(()=>[C("处理器")]),_:1}),f(z,{class:"v"},{default:o(()=>[C("A17 Pro")]),_:1})]),_:1}),f(w,{class:"spec-box"},{default:o(()=>[f(z,{class:"k"},{default:o(()=>[C("屏幕尺寸")]),_:1}),f(z,{class:"v"},{default:o(()=>[C("6.7英寸")]),_:1})]),_:1}),f(w,{class:"spec-box"},{default:o(()=>[f(z,{class:"k"},{default:o(()=>[C("分辨率")]),_:1}),f(z,{class:"v"},{default:o(()=>[C("2796x1290")]),_:1})]),_:1}),f(w,{class:"spec-box"},{default:o(()=>[f(z,{class:"k"},{default:o(()=>[C("电池容量")]),_:1}),f(z,{class:"v"},{default:o(()=>[C("4422mAh")]),_:1})]),_:1})]),_:1})]),_:1}),f(w,{class:"section-card reviews-card"},{default:o(()=>[f(w,{class:"card-header"},{default:o(()=>[f(z,{class:"title"},{default:o(()=>[C("用户评价 (2.6k+)")]),_:1}),f(w,{class:"more"},{default:o(()=>[f(z,null,{default:o(()=>[C("98%好评")]),_:1}),f(D,{type:"right",size:"12",color:"#999"})]),_:1})]),_:1}),f(w,{class:"tags-row"},{default:o(()=>[f(z,{class:"tag"},{default:o(()=>[C("运行流畅(885)")]),_:1}),f(z,{class:"tag"},{default:o(()=>[C("拍照清晰(621)")]),_:1}),f(z,{class:"tag"},{default:o(()=>[C("续航给力(435)")]),_:1})]),_:1}),f(w,{class:"review-item"},{default:o(()=>[f(w,{class:"user-info"},{default:o(()=>[f(s,{class:"avatar",src:"/bbb/static/avatar_user_1.png",mode:"aspectFill"}),f(z,{class:"name"},{default:o(()=>[C("Geek_Dev")]),_:1}),(n(),p(v,null,m(5,a=>f(D,{type:"star-filled",size:"12",color:"#FFD700",key:a})),64))]),_:1}),f(w,{class:"content"},{default:o(()=>[C(" 系统非常丝滑，A17 Pro 性能确实强悍，玩原神完全不掉帧。新配色深空黑非常有质感，推荐大家入手！ ")]),_:1})]),_:1})]),_:1}),f(w,{class:"section-card shop-card"},{default:o(()=>[f(w,{class:"shop-logo"},{default:o(()=>[f(s,{src:"/bbb/static/logo.png",mode:"aspectFit"})]),_:1}),f(w,{class:"shop-info"},{default:o(()=>[f(z,{class:"name"},{default:o(()=>[C("Gemini 官方旗舰店")]),_:1}),f(z,{class:"meta"},{default:o(()=>[C("在售商品 128 · 关注人数 5.8w")]),_:1})]),_:1}),f(w,{class:"shop-btn",onClick:L},{default:o(()=>[C("进店逛逛")]),_:1})]),_:1}),f(w,{class:"detail-section"},{default:o(()=>[f(w,{class:"detail-title"},{default:o(()=>[C("—— 商品详情 ——")]),_:1}),M.value.length>0?(n(!0),p(v,{key:0},m(M.value,(a,e)=>(n(),c(s,{key:e,src:b(A)(a),mode:"widthFix",class:"detail-img"},null,8,["src"]))),128)):k("",!0)]),_:1}),f(w,{class:"safe-area-spacer"}),f(w,{class:"action-bar"},{default:o(()=>[f(w,{class:"icon-nav"},{default:o(()=>[f(w,{class:"nav-item",onClick:L},{default:o(()=>[f(D,{type:"shop",size:"22",color:"#333"}),f(z,null,{default:o(()=>[C("店铺")]),_:1})]),_:1}),f(w,{class:"nav-item",onClick:N},{default:o(()=>[f(D,{type:"chat",size:"22",color:"#333"}),f(z,null,{default:o(()=>[C("客服")]),_:1})]),_:1}),f(w,{class:"nav-item badge-wrap",onClick:e[0]||(e[0]=a=>b(q)("/pages/cart/cart",!0))},{default:o(()=>[f(D,{type:"cart",size:"22",color:"#333"}),f(z,null,{default:o(()=>[C("购物车")]),_:1}),S.value>0?(n(),c(w,{key:0,class:"badge"},{default:o(()=>[C(x(S.value),1)]),_:1})):k("",!0)]),_:1})]),_:1}),f(w,{class:"btn-group"},{default:o(()=>[f(w,{class:"btn cart",onClick:V},{default:o(()=>[C("加入购物车")]),_:1}),f(w,{class:"btn buy",onClick:W},{default:o(()=>[C("立即购买")]),_:1})]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-6b5cf002"]]);export{P as default};
