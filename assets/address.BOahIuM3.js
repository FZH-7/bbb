import{r as s,a,b as e,i as d,q as r,s as t}from"./request.Bx5oBM20.js";const i={async getAddressList(a){if(!a)return[];const e=await s(async()=>t.from("addresses").select("*").eq("user_id",a).order("is_default",{ascending:!1}).order("created_at",{ascending:!1}).range(0,100),{requestId:`address_list_${a}`,showLoading:!0});return e&&e.data?e.data:[]},async getAddressById(s){const a=await r("addresses",s,{showLoading:!0});return a?a.data:null},async createAddress(s,a={}){const e=s.user_id;if(!e)return!1;s.is_default&&await this.clearDefault(e);return!!(await d("addresses",{...s,user_id:e},{...a,showLoading:!0}))},async updateAddress(s,a,d={}){const r=a.user_id;if(!r)return!1;a.is_default&&await this.clearDefault(r);const{id:t,...i}=a;return!!(await e("addresses",s,i,{...d,showLoading:!0}))},deleteAddress:async(s,e={})=>!!(await a("addresses",s,{...e,showLoading:!0})),async clearDefault(a){await s(async()=>t.from("addresses").update({is_default:!1}).eq("user_id",a),{requestId:`clear_default_${Date.now()}`})}};export{i as a};
