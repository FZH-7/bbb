import{_ as a,k as e,U as s,c as l,w as t,v as c,x as i,M as o,y as u,o as r,a as n,B as d,C as f,H as p,af as _,a0 as m,Z as y,$ as v,N as w,ag as b}from"./vendor.Ckgv2xgH.js";import{o as g}from"./order.CbSw1ZKD.js";import"./request.Bx5oBM20.js";const h=""+new URL("image-C-CGwTbZ.png",import.meta.url).href,k=a({__name:"pay",setup(a){const k=e("0.00"),x=e(1),C=e(null);s(a=>{k.value=a.amount||"0.00",a.id&&(C.value=a.id)});const F=()=>{y({title:"支付中"}),setTimeout(async()=>{if(C.value){if((await g.payOrder(C.value)).error)return v(),void w({title:"支付状态更新失败",icon:"none"})}v(),b({url:"/pages/money/paySuccess"})},1500)};return(a,e)=>{const s=d,y=c,v=i(u("uni-icons"),o),w=m;return r(),l(y,{class:"container"},{default:t(()=>[n(y,{class:"price-box"},{default:t(()=>[n(s,{class:"tit"},{default:t(()=>[f("支付金额")]),_:1}),n(y,{class:"price"},{default:t(()=>[n(s,{class:"min"},{default:t(()=>[f("¥")]),_:1}),n(s,{class:"num"},{default:t(()=>[f(p(k.value),1)]),_:1})]),_:1})]),_:1}),n(y,{class:"pay-type-list"},{default:t(()=>[n(y,{class:"type-item",onClick:e[0]||(e[0]=a=>x.value=1)},{default:t(()=>[n(y,{class:"left"},{default:t(()=>[n(v,{type:"weixin",size:"24",color:"#36cb59"}),n(s,{class:"tit"},{default:t(()=>[f("微信支付")]),_:1})]),_:1}),n(v,{type:1===x.value?"checkbox-filled":"circle",size:"24",color:1===x.value?"#FF4560":"#ccc"},null,8,["type","color"])]),_:1}),n(y,{class:"type-item",onClick:e[1]||(e[1]=a=>x.value=2)},{default:t(()=>[n(y,{class:"left"},{default:t(()=>[_("img",{src:h,alt:"支付宝支付",width:"24",height:"24"}),n(s,{class:"tit"},{default:t(()=>[f("支付宝支付")]),_:1})]),_:1}),n(v,{type:2===x.value?"checkbox-filled":"circle",size:"24",color:2===x.value?"#FF4560":"#ccc"},null,8,["type","color"])]),_:1})]),_:1}),n(w,{class:"pay-btn",onClick:F},{default:t(()=>[f("确认支付")]),_:1})]),_:1})}}},[["__scopeId","data-v-68f46a10"]]);export{k as default};
