import{_ as a,l as e,k as s,U as l,V as t,c,w as o,v as i,x as u,M as d,y as r,o as n,a as f,S as _,D as p,F as v,E as m,I as g,G as y,L as k,B as h,C,H as b,N as x,W as w,A as z,X as B,R as D}from"./vendor.Ckgv2xgH.js";import{p as F}from"./product.CkM9Osij.js";import{u as G}from"./cart.Cwdcc7pj.js";import{u as j}from"./useSystem.Wa4UmrYm.js";import"./request.Bx5oBM20.js";const A=a({__name:"product",setup(a){const A=G(),{navTo:P}=j(),q=e(()=>A.totalCount||0),S=s({name:"Gemini Pro Max Ultra 旗舰智能终端",desc:"轻钛金属 | A17 Pro 芯片 | 潜望式长焦",price:"9999.00",sales:0,cover:"",original_price:"0.00",id:0}),I=s([]),M=s(!1),T=e(()=>{const a=new Date;return a.setDate(a.getDate()+1),`${a.getMonth()+1}月${a.getDate()}日`});l(async a=>{const e=a.id||1;U(e),await $(e)});const U=a=>{const e=t("favorites")||[];M.value=e.includes(a.toString())},$=async a=>{const e=await F.getProductById(a);if(e){S.value={...e,id:a};const s=e.images&&e.images.length>0?e.images:e.cover?[e.cover,e.cover]:[];I.value=s.length>0?s:["/static/goods/iphone_15_pro_max.png"],S.value.desc||(S.value.desc="全新一代性能旗舰，超乎想象的流畅体验")}},E=()=>{M.value=!M.value;let a=t("favorites")||[];const e=S.value.id.toString();M.value?(a.includes(e)||a.push(e),x({title:"已收藏",icon:"success"})):(a=a.filter(a=>a!==e),x({title:"已取消",icon:"none"})),D("favorites",a)},H=()=>w({url:"/pages/index/index"}),L=()=>x({title:"客服忙碌中",icon:"none"}),N=()=>x({title:"分享功能开发中",icon:"none"}),O=()=>x({title:"打开规格选择器",icon:"none"}),R=()=>{A.addToCart({goods_id:S.value.id,title:S.value.name,price:S.value.price,image:I.value[0],qty:1,attr:"256GB 深空黑"}),x({title:"已加入购物车",icon:"success"})},V=()=>{const a={goods_id:S.value.id,title:S.value.name,price:S.value.price,image:I.value[0],qty:1,checked:!0,attr:"256GB 深空黑"};D("temp_order_items",[a]),P("/pages/order/createOrder")};return(a,e)=>{const s=y,l=g,t=_,x=i,w=h,D=u(r("uni-icons"),d);return n(),c(x,{class:"container"},{default:o(()=>[f(x,{class:"carousel-section"},{default:o(()=>[f(t,{class:"swiper","indicator-dots":"",circular:"",autoplay:"",interval:"4000",duration:"500","indicator-active-color":"#00CBCC","indicator-color":"rgba(255,255,255,0.6)"},{default:o(()=>[(n(!0),p(v,null,m(I.value,(a,e)=>(n(),c(l,{key:e},{default:o(()=>[f(s,{src:a,mode:"aspectFill",class:"carousel-img",onClick:a=>(a=>{B({current:a,urls:I.value})})(e)},null,8,["src","onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),f(x,{class:"info-card"},{default:o(()=>[f(x,{class:"price-box"},{default:o(()=>[f(x,{class:"price-row"},{default:o(()=>[f(w,{class:"symbol"},{default:o(()=>[C("¥")]),_:1}),f(w,{class:"amount"},{default:o(()=>[C(b(S.value.price),1)]),_:1}),f(w,{class:"suffix"},{default:o(()=>[C("起")]),_:1})]),_:1}),f(x,{class:"action-icons"},{default:o(()=>[f(x,{class:"icon-item",onClick:E},{default:o(()=>[f(D,{type:M.value?"star-filled":"star",size:"22",color:M.value?"#ffc107":"#333"},null,8,["type","color"]),f(w,null,{default:o(()=>[C(b(M.value?"已收藏":"收藏"),1)]),_:1})]),_:1}),f(x,{class:"icon-item",onClick:N},{default:o(()=>[f(D,{type:"paperplane",size:"22",color:"#333"}),f(w,null,{default:o(()=>[C("分享")]),_:1})]),_:1})]),_:1})]),_:1}),f(x,{class:"product-title"},{default:o(()=>[C(b(S.value.name),1)]),_:1}),S.value.desc?(n(),c(x,{key:0,class:"product-desc"},{default:o(()=>[C(b(S.value.desc),1)]),_:1})):k("",!0),f(x,{class:"service-row"},{default:o(()=>[f(x,{class:"service-item"},{default:o(()=>[f(D,{type:"checkbox-filled",size:"14",color:"#00CBCC"}),f(w,null,{default:o(()=>[C("官方正品")]),_:1})]),_:1}),f(x,{class:"service-item"},{default:o(()=>[f(D,{type:"checkbox-filled",size:"14",color:"#00CBCC"}),f(w,null,{default:o(()=>[C("全国联保")]),_:1})]),_:1}),f(x,{class:"service-item"},{default:o(()=>[f(D,{type:"checkbox-filled",size:"14",color:"#00CBCC"}),f(w,null,{default:o(()=>[C("48h发货")]),_:1})]),_:1}),f(D,{type:"right",size:"12",color:"#ccc",class:"arrow"})]),_:1})]),_:1}),f(x,{class:"section-card specs-card"},{default:o(()=>[f(x,{class:"row-item",onClick:O},{default:o(()=>[f(w,{class:"label"},{default:o(()=>[C("已选")]),_:1}),f(w,{class:"value highlight"},{default:o(()=>[C("官方标配, 256GB, 深空黑色, 1件")]),_:1}),f(D,{type:"right",size:"14",color:"#ccc"})]),_:1}),f(x,{class:"row-item"},{default:o(()=>[f(w,{class:"label"},{default:o(()=>[C("配送")]),_:1}),f(x,{class:"value-col"},{default:o(()=>[f(w,{class:"main-text"},{default:o(()=>[C("顺丰速运 · 免运费")]),_:1}),f(w,{class:"sub-text"},{default:o(()=>[C("预计明天 ("+b(T.value)+") 送达",1)]),_:1})]),_:1}),f(D,{type:"right",size:"14",color:"#ccc"})]),_:1}),f(x,{class:"divider"}),f(x,{class:"specs-grid"},{default:o(()=>[f(x,{class:"spec-box"},{default:o(()=>[f(w,{class:"k"},{default:o(()=>[C("处理器")]),_:1}),f(w,{class:"v"},{default:o(()=>[C("A17 Pro")]),_:1})]),_:1}),f(x,{class:"spec-box"},{default:o(()=>[f(w,{class:"k"},{default:o(()=>[C("屏幕尺寸")]),_:1}),f(w,{class:"v"},{default:o(()=>[C("6.7英寸")]),_:1})]),_:1}),f(x,{class:"spec-box"},{default:o(()=>[f(w,{class:"k"},{default:o(()=>[C("分辨率")]),_:1}),f(w,{class:"v"},{default:o(()=>[C("2796x1290")]),_:1})]),_:1}),f(x,{class:"spec-box"},{default:o(()=>[f(w,{class:"k"},{default:o(()=>[C("电池容量")]),_:1}),f(w,{class:"v"},{default:o(()=>[C("4422mAh")]),_:1})]),_:1})]),_:1})]),_:1}),f(x,{class:"section-card reviews-card"},{default:o(()=>[f(x,{class:"card-header"},{default:o(()=>[f(w,{class:"title"},{default:o(()=>[C("用户评价 (2.6k+)")]),_:1}),f(x,{class:"more"},{default:o(()=>[f(w,null,{default:o(()=>[C("98%好评")]),_:1}),f(D,{type:"right",size:"12",color:"#999"})]),_:1})]),_:1}),f(x,{class:"tags-row"},{default:o(()=>[f(w,{class:"tag"},{default:o(()=>[C("运行流畅(885)")]),_:1}),f(w,{class:"tag"},{default:o(()=>[C("拍照清晰(621)")]),_:1}),f(w,{class:"tag"},{default:o(()=>[C("续航给力(435)")]),_:1})]),_:1}),f(x,{class:"review-item"},{default:o(()=>[f(x,{class:"user-info"},{default:o(()=>[f(s,{class:"avatar",src:"./static/avatar_user_1.png",mode:"aspectFill"}),f(w,{class:"name"},{default:o(()=>[C("Geek_Dev")]),_:1}),(n(),p(v,null,m(5,a=>f(D,{type:"star-filled",size:"12",color:"#FFD700",key:a})),64))]),_:1}),f(x,{class:"content"},{default:o(()=>[C(" 系统非常丝滑，A17 Pro 性能确实强悍，玩原神完全不掉帧。新配色深空黑非常有质感，推荐大家入手！ ")]),_:1})]),_:1})]),_:1}),f(x,{class:"section-card shop-card"},{default:o(()=>[f(x,{class:"shop-logo"},{default:o(()=>[f(s,{src:"./static/logo.png",mode:"aspectFit"})]),_:1}),f(x,{class:"shop-info"},{default:o(()=>[f(w,{class:"name"},{default:o(()=>[C("Gemini 官方旗舰店")]),_:1}),f(w,{class:"meta"},{default:o(()=>[C("在售商品 128 · 关注人数 5.8w")]),_:1})]),_:1}),f(x,{class:"shop-btn",onClick:H},{default:o(()=>[C("进店逛逛")]),_:1})]),_:1}),f(x,{class:"detail-section"},{default:o(()=>[f(x,{class:"detail-title"},{default:o(()=>[C("—— 商品详情 ——")]),_:1}),I.value.length>0?(n(!0),p(v,{key:0},m(I.value,(a,e)=>(n(),c(s,{key:e,src:a,mode:"widthFix",class:"detail-img"},null,8,["src"]))),128)):k("",!0)]),_:1}),f(x,{class:"safe-area-spacer"}),f(x,{class:"action-bar"},{default:o(()=>[f(x,{class:"icon-nav"},{default:o(()=>[f(x,{class:"nav-item",onClick:H},{default:o(()=>[f(D,{type:"shop",size:"22",color:"#333"}),f(w,null,{default:o(()=>[C("店铺")]),_:1})]),_:1}),f(x,{class:"nav-item",onClick:L},{default:o(()=>[f(D,{type:"chat",size:"22",color:"#333"}),f(w,null,{default:o(()=>[C("客服")]),_:1})]),_:1}),f(x,{class:"nav-item badge-wrap",onClick:e[0]||(e[0]=a=>z(P)("/pages/cart/cart",!0))},{default:o(()=>[f(D,{type:"cart",size:"22",color:"#333"}),f(w,null,{default:o(()=>[C("购物车")]),_:1}),q.value>0?(n(),c(x,{key:0,class:"badge"},{default:o(()=>[C(b(q.value),1)]),_:1})):k("",!0)]),_:1})]),_:1}),f(x,{class:"btn-group"},{default:o(()=>[f(x,{class:"btn cart",onClick:R},{default:o(()=>[C("加入购物车")]),_:1}),f(x,{class:"btn buy",onClick:V},{default:o(()=>[C("立即购买")]),_:1})]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-1491e4a8"]]);export{A as default};
